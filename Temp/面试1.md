1. 如何通过 **QFileDialog** 加载图片, 然后借助 **QPixmap** 实现==图片压缩展示==的功能?
2. 你的员工信息管理项目写了效率提升了 70%, 可以容纳 100 个员工的消息存储管理, 你是怎么==判断这个指标==的呢?
3. 你的网盘项目中==多线程==功能是怎么实现的呢?
4. 你的==单例模式==是怎么实现的? 有什么可能出现的==隐患==?
5. 你的网盘项目说了支持 2 GB 文件传输, 那么支持==分片续传==和==校验==吗?
6. 如果要你写一个==断点续传==的功能怎么实现?
7. 如果让你实现一个==文件队列==的功能, 怎么实现? 如何==可视化==显示在前端界面中?
8. 讲一讲 Qt 里面的各种类, ==分门别类==地讲一讲

---
这是一份 Qt 方向的技术面试题清单，共 8 道，主要考察 Qt 开发能力、项目经验和底层原理。下面逐题解析：

---

### 1. 如何通过 QFileDialog 加载图片，然后借助 QPixmap 实现图片压缩展示的功能？
- **加载图片**：用 `QFileDialog::getOpenFileName()` 获取图片路径，再用 `QPixmap::load()` 加载。
- **压缩展示**：
  - 用 `QPixmap::scaled()` 按目标尺寸等比例缩放，设置 `Qt::KeepAspectRatio` 避免变形。
  - 或用 `QPixmap::save()` 配合质量参数（如 `quality=50`）做有损压缩后再展示。
- 示例思路：
  ```cpp
  QString path = QFileDialog::getOpenFileName(this, "选择图片", "", "Images (*.png *.jpg)");
  QPixmap pix(path);
  QPixmap scaledPix = pix.scaled(300, 300, Qt::KeepAspectRatio, Qt::SmoothTransformation);
  ui->label->setPixmap(scaledPix);
  ```

---

### 2. 员工信息管理项目效率提升 70%、可容纳 100 个员工消息存储，如何判断这个指标？
- **效率提升**：
  - 用基准测试：对比优化前后的操作耗时（如批量增删改查、消息推送），计算耗时减少比例。
  - 用工具：`QElapsedTimer` 统计关键代码段执行时间，或用性能分析工具（如 Valgrind、Qt Creator Profiler）定位瓶颈。
- **容量判断**：
  - 模拟 100 个员工并发场景，测试内存占用、响应延迟、消息队列长度是否在可接受范围。
  - 检查数据结构（如从线性表改为哈希表）、数据库索引、缓存策略等优化点。

---

### 3. 网盘项目中多线程功能是怎么实现的？
- 核心思路：**任务拆分 + 线程池**，避免阻塞 UI。
- 实现方式：
  - 用 `QThread` 或 `QtConcurrent::run()` 把文件上传/下载、分片校验等耗时操作放到后台线程。
  - 用信号槽（`Qt::QueuedConnection`）实现线程间安全通信，更新进度条或状态。
  - 用 `QMutex`/`QReadWriteLock` 保护共享资源（如文件队列、配置）。

---

### 4. 单例模式是怎么实现的？有什么可能出现的隐患？
- **实现方式**：
  - 饿汉式：程序启动时就创建实例，线程安全但占用内存。
  - 懒汉式（推荐）：首次使用时创建，配合 `std::call_once` 或 `QMutex` 保证线程安全。
  - Qt 中也可借助 `Q_GLOBAL_STATIC` 宏实现。
- **隐患**：
  - 多线程下未加锁导致重复创建实例。
  - 单例生命周期管理不当，导致资源泄漏或析构顺序问题。
  - 过度使用单例会造成代码耦合度高、可测试性差。

---

### 5. 网盘项目支持 2 GB 文件传输，是否支持分片续传和校验？
- **分片续传**：
  - 是，将大文件拆分成固定大小的块（如 4MB），逐个上传/下载。
  - 记录已完成的块索引，断点恢复时从上次位置继续。
- **校验**：
  - 支持，对每个分片计算 MD5/SHA1 哈希，服务器端校验一致性。
  - 或对整个文件生成校验码，传输完成后比对，确保文件完整性。

---

### 6. 断点续传的功能怎么实现？
- 核心步骤：
  1. **分片**：将文件按固定大小分片，生成分片列表。
  2. **记录状态**：用本地配置文件或数据库记录每个分片的传输状态（已完成/未完成/校验失败）。
  3. **恢复传输**：启动时读取状态，跳过已完成分片，从断点处继续。
  4. **校验与重试**：传输完成后校验分片哈希，失败则自动重试。
- Qt 实现要点：
  - 用 `QFile` 定位到分片偏移量，`QIODevice::seek()` 实现断点读取。
  - 用 `QNetworkAccessManager` 发送带 `Range` 头的 HTTP 请求，实现断点下载。

---

### 7. 文件队列功能怎么实现？如何可视化显示在前端界面中？
- **队列实现**：
  - 用 `QQueue` 或 `QList` 维护任务队列，每个任务包含文件路径、状态、进度等信息。
  - 用线程池按顺序处理队列任务，避免并发过载。
- **前端可视化**：
  - 用 `QListWidget` 或 `QTableWidget` 展示队列，每行显示文件名、进度条、状态图标。
  - 用信号槽实时更新 UI：任务开始/完成/失败时，更新对应行的进度和状态。
  - 支持拖拽排序、右键取消等交互。

---

### 8. 讲一讲 Qt 里面的各种类，分门别类地讲一讲
Qt 类库按功能可分为以下几大类：

1.  **核心模块 (Qt Core)**
    - 基础数据结构：`QList`, `QVector`, `QMap`, `QQueue`, `QString`
    - 线程与并发：`QThread`, `QMutex`, `QtConcurrent`
    - 信号槽与元对象：`QObject`, `QMetaObject`, `QSignalMapper`
    - IO 与文件：`QFile`, `QDir`, `QTextStream`, `QDataStream`

2.  **GUI 模块 (Qt GUI)**
    - 窗口与控件：`QWidget`, `QMainWindow`, `QDialog`, `QPushButton`, `QLabel`
    - 绘图与图像：`QPainter`, `QPixmap`, `QImage`, `QPen`, `QBrush`
    - 事件系统：`QEvent`, `QMouseEvent`, `QKeyEvent`

3.  **网络模块 (Qt Network)**
    - HTTP/网络访问：`QNetworkAccessManager`, `QNetworkRequest`, `QNetworkReply`
    - 套接字：`QTcpSocket`, `QUdpSocket`, `QTcpServer`

4.  **数据库模块 (Qt SQL)**
    - 数据库连接：`QSqlDatabase`, `QSqlQuery`, `QSqlTableModel`

5.  **多媒体模块 (Qt Multimedia)**
    - 音视频播放：`QMediaPlayer`, `QCamera`, `QAudioOutput`

6.  **其他模块**
    - 模型/视图：`QAbstractItemModel`, `QTableView`, `QTreeView`
    - 串口通信：`QSerialPort`
    - 图表：`QtCharts`

---

如果你需要，我可以帮你把这些面试题整理成一份**可直接背诵的面试话术版答案**，方便你在面试时流畅表达。需要我帮你整理吗？