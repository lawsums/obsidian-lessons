---
title: "1209. åˆ é™¤å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰ç›¸é‚»é‡å¤é¡¹ II - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"
source: "https://leetcode.cn/problems/remove-all-adjacent-duplicates-in-string-ii/"
author:
  - "[[åŠ›æ‰£ LeetCode]]"
published:
created: 2025-10-07
description: "1209. åˆ é™¤å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰ç›¸é‚»é‡å¤é¡¹ II - ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²Â sï¼Œã€Œk å€é‡å¤é¡¹åˆ é™¤æ“ä½œã€å°†ä¼šä» sÂ ä¸­é€‰æ‹©Â kÂ ä¸ªç›¸é‚»ä¸”ç›¸ç­‰çš„å­—æ¯ï¼Œå¹¶åˆ é™¤å®ƒä»¬ï¼Œä½¿è¢«åˆ å»çš„å­—ç¬¦ä¸²çš„å·¦ä¾§å’Œå³ä¾§è¿åœ¨ä¸€èµ·ã€‚ä½ éœ€è¦å¯¹Â sÂ é‡å¤è¿›è¡Œæ— é™æ¬¡è¿™æ ·çš„åˆ é™¤æ“ä½œï¼Œç›´åˆ°æ— æ³•ç»§ç»­ä¸ºæ­¢ã€‚åœ¨æ‰§è¡Œå®Œæ‰€æœ‰åˆ é™¤æ“ä½œåï¼Œè¿”å›æœ€ç»ˆå¾—åˆ°çš„å­—ç¬¦ä¸²ã€‚æœ¬é¢˜ç­”æ¡ˆä¿è¯å”¯ä¸€ã€‚Â ç¤ºä¾‹ 1ï¼šè¾“å…¥ï¼šs = \"abcd\", k = 2è¾“å‡ºï¼š\"abcd\"è§£é‡Šï¼šæ²¡æœ‰è¦åˆ é™¤çš„å†…å®¹ã€‚ç¤ºä¾‹ 2ï¼šè¾“å…¥ï¼šs = \"deeedbbcccbdaa\", k = 3è¾“å‡ºï¼š\"aa\"è§£é‡Šï¼š å…ˆåˆ é™¤ \"eee\" å’Œ \"ccc\"ï¼Œå¾—åˆ° \"ddbbbdaa\"å†åˆ é™¤ \"bbb\"ï¼Œå¾—åˆ° \"dddaa\"æœ€ååˆ é™¤ \"ddd\"ï¼Œå¾—åˆ° \"aa\"ç¤ºä¾‹ 3ï¼šè¾“å…¥ï¼šs = \"pbbcggttciiippooaais\", k = 2è¾“å‡ºï¼š\"ps\"Â æç¤ºï¼š * 1 <= s.length <= 10^5 * 2 <= k <= 10^4 * sÂ ä¸­åªå«æœ‰å°å†™è‹±æ–‡å­—æ¯ã€‚"
tags:
  - "clippings"
---


[1209\. åˆ é™¤å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰ç›¸é‚»é‡å¤é¡¹ II](https://leetcode.cn/problems/remove-all-adjacent-duplicates-in-string-ii/)

å·²è§£ç­”

1542


ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s` ï¼Œã€Œ `k` å€é‡å¤é¡¹åˆ é™¤æ“ä½œã€å°†ä¼šä» `s` Â ä¸­é€‰æ‹©Â  `k` ä¸ªç›¸é‚»ä¸”ç›¸ç­‰çš„å­—æ¯ï¼Œå¹¶åˆ é™¤å®ƒä»¬ï¼Œä½¿è¢«åˆ å»çš„å­—ç¬¦ä¸²çš„å·¦ä¾§å’Œå³ä¾§è¿åœ¨ä¸€èµ·ã€‚

ä½ éœ€è¦å¯¹ `s` é‡å¤è¿›è¡Œæ— é™æ¬¡è¿™æ ·çš„åˆ é™¤æ“ä½œï¼Œç›´åˆ°æ— æ³•ç»§ç»­ä¸ºæ­¢ã€‚

åœ¨æ‰§è¡Œå®Œæ‰€æœ‰åˆ é™¤æ“ä½œåï¼Œè¿”å›æœ€ç»ˆå¾—åˆ°çš„å­—ç¬¦ä¸²ã€‚

æœ¬é¢˜ç­”æ¡ˆä¿è¯å”¯ä¸€ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs = "abcd", k = 2
è¾“å‡ºï¼š"abcd"
è§£é‡Šï¼šæ²¡æœ‰è¦åˆ é™¤çš„å†…å®¹ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šs = "deeedbbcccbdaa", k = 3
è¾“å‡ºï¼š"aa"
è§£é‡Šï¼š 
å…ˆåˆ é™¤ "eee" å’Œ "ccc"ï¼Œå¾—åˆ° "ddbbbdaa"
å†åˆ é™¤ "bbb"ï¼Œå¾—åˆ° "dddaa"
æœ€ååˆ é™¤ "ddd"ï¼Œå¾—åˆ° "aa"
```

**ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šs = "pbbcggttciiippooaais", k = 2
è¾“å‡ºï¼š"ps"
```

**æç¤ºï¼š**

- `1 <= s.length <= 10^5`
- `2 <= k <= 10^4`
- `s` ä¸­åªå«æœ‰å°å†™è‹±æ–‡å­—æ¯ã€‚

---

é¢è¯•ä¸­é‡åˆ°è¿‡è¿™é“é¢˜?

1/5

æ˜¯

å¦

é€šè¿‡æ¬¡æ•°

29,000 /53.8K

é€šè¿‡ç‡

53.9 %

---

---

ç›¸å…³ä¼ä¸š

---

æç¤º1

Use a stack to store the characters, when there are k same characters, delete them.

---

æç¤º2

To make it more efficient, use a pair to store the value and the count of each character.

---

---

è¯„è®º (179)

ğŸ’¡ è®¨è®ºåŒºè§„åˆ™

1\. è¯·ä¸è¦åœ¨è¯„è®ºåŒºå‘è¡¨é¢˜è§£ï¼

2\. è¯„è®ºåŒºå¯ä»¥å‘è¡¨å…³äºå¯¹ç¿»è¯‘çš„å»ºè®®ã€å¯¹é¢˜ç›®çš„ç–‘é—®åŠå…¶å»¶ä¼¸è®¨è®ºã€‚

3\. å¦‚æœä½ éœ€è¦æ•´ç†é¢˜è§£æ€è·¯ï¼Œè·å¾—åé¦ˆä»è€Œè¿›é˜¶æå‡ï¼Œå¯ä»¥å»é¢˜è§£åŒºè¿›è¡Œã€‚

[å°†çˆ±æººäºæ™šé£ä¸·](https://leetcode.cn/u/jiang-ai-ni-yu-wan-feng-ha/)

æ¥è‡ª å¹¿ä¸œ

2025.10.05

470å‘¨èµ›Q3 æ„Ÿè§‰ä¸€æ¨¡ä¸€æ ·å•Š

```csharp
public class Solution {
    public string RemoveDuplicates(string s, int k) {
        List<(char c, int cnt)> st = new List<(char, int)>();

        foreach(char c in s){
            // æ ˆé¡¶å­—æ¯ç›¸åŒ cnt++
            if(st.Count > 0 && st[^1].c == c){
                st[^1] = (st[^1].c, st[^1].cnt + 1);
            }
            // ä¸åŒ å…¥æ ˆ
            else{
                st.Add((c, 1));
            }
            // æ ˆé¡¶cnt == k å‡ºæ ˆ
            if(st[^1].cnt == k){
                st.RemoveAt(st.Count - 1);
            }
        }

        StringBuilder sb = new StringBuilder();
        foreach(var(c, cnt) in st){
            for(int i=0; i<cnt; i++) sb.Append(c);
        }

        return sb.ToString();
    }
}
```

å±•å¼€å…¨éƒ¨

0

å›å¤

[Heng\_Xin](https://leetcode.cn/u/Heng_Xin/)

æ¥è‡ª ä¸­å›½

2025.03.04

```cpp
class Solution {
public:
    string removeDuplicates(string s, int k) {
        vector<int> cnt; // è®¡æ•°æ ˆ
        string st;
        for (char c : s) {
            if (st.size() && st.back() == c) {
                cnt.push_back(cnt.back() + 1);
                st.push_back(c);
                if (cnt.back() == k) { // ç›´æ¥æˆªå–
                    st.resize(st.size() - k);
                    cnt.resize(cnt.size() - k);
                }
            } else {
                cnt.push_back(1);
                st.push_back(c);
            }
        }
        return st;
    }
};
```

å±•å¼€å…¨éƒ¨

2

å›å¤

[å¤§é¢é¥¼](https://leetcode.cn/u/da-mian-bing/)

æ¥è‡ª æ±Ÿè‹

2021.08.02

å“å¾—æˆ‘èµ¶ç´§å»ç©äº†ä¸€å±€ç¥–ç›

29

å±•ç¤º 2 æ¡å›å¤

å›å¤

[Antonioxv](https://leetcode.cn/u/antonioxv/)

æ¥è‡ª ä¸­å›½

2025.03.23

pair è®°å½•ä¸€ä¸‹å½“å‰è¿ç»­çš„ ch çš„ cntï¼Œä¸º k æ—¶ popï¼Œpush å’Œ pop æ“ä½œæ—¶é—´å¤æ‚åº¦ O(n)ï¼Œä¸ä¼šè¶…æ—¶

```cpp
class Solution {
public:
    string removeDuplicates(string s, int k) {
        // char, lastk
        deque<pair<char, int>> dq;
        for (char ch : s) {
            if (dq.empty()) {
                dq.push_back({ch, 1});
            } else { // not empty
                if (dq.back().first == ch) {
                    if (dq.back().second == k - 1) {
                        for (int i = 0; i < k - 1; ++i) {
                            dq.pop_back();
                        }
                    } else { // not enough
                        dq.push_back({ch, dq.back().second + 1});
                    }
                } else { // not equal
                    dq.push_back({ch, 1});
                }
            }
        }

        string res;
        for (auto& [ch, cnt] : dq) {
            res += ch;
        }
        return res;
    }
};
```

å±•å¼€å…¨éƒ¨

1

å›å¤

[pigeon\_](https://leetcode.cn/u/pigeon_/)

æ¥è‡ª åŒ—äº¬å¸‚

2024.02.03

æ„Ÿè§‰æ­£åˆ™ä¹Ÿå¯ä»¥è§£æ­¤é¢˜ï¼Œä¸è¿‡åªèƒ½è¿‡16/21ï¼Œä¼šè¶…æ—¶ã€‚

```cpp
string removeDuplicates2(string s, int k) {
   char p[15];
   snprintf(p, sizeof(p) - 1, "(\\w)\\1{%d}", k - 1);
   regex expr(p);
   while (regex_search(s, expr)) {
       s = regex_replace(s, expr, "");
       cout << s << endl;
   }
   return s;
}
```

å±•å¼€å…¨éƒ¨

3

å›å¤

[æœºæ¢°æ°´æ¯](https://leetcode.cn/u/mechanical-jellyfish/)

æ¥è‡ª å¹¿ä¸œ

2024.08.09

åŠ ä¸ªè®¡æ•°å™¨å†å­˜åˆ°æ ˆä¸­å³å¯

C#

```csharp
public class Solution {
    public string RemoveDuplicates(string s, int k) {
        var theStack = new Stack<Tuple<char, int>>();

        foreach (var letter in (s + ";")) {
            if (theStack.TryPeek(out var val) && val.Item2 == k) {
                foreach (var _ in Enumerable.Range(0, k)) {
                    theStack.Pop();
                }
            }

            if (theStack.Count <= 0 || theStack.Peek().Item1 != letter) {
                theStack.Push(new Tuple<char, int>(letter, 1));
            } else {
                theStack.Push(new Tuple<char, int>(letter, theStack.Peek().Item2 + 1));
            }
        }

        theStack.Pop();
        return new string(theStack.Select(i => i.Item1).Reverse().ToArray());
    }
}
```

å±•å¼€å…¨éƒ¨

1

å›å¤

[å—å°é¸Ÿ](https://leetcode.cn/u/katori_minami/)

æ¥è‡ª ä¸Šæµ·å¸‚

2025.04.10

æ„Ÿè§‰ç”¨æ ˆåšè¿™é¢˜èƒ½å€¼2000ï¼Œæ¯”å°è¡Œæ˜Ÿå’Œ [éäº’è´¨æ•°](https://leetcode.cn/problems/replace-non-coprime-numbers-in-array) éš¾

0

å±•ç¤º 1 æ¡å›å¤

å›å¤

[ç”Ÿé”ˆçš„å¤§è„‘](https://leetcode.cn/u/xiao-dian-di/)

æ¥è‡ª æœªçŸ¥å½’å±åœ°

2019.09.30

2ä¸ªæ ˆå°±è¡Œäº†

```cpp
class Solution {
public:
    string removeDuplicates(string s, int k) {
        stack<int>times;
        stack<char>st;
        for (auto vi : s) {
            if (st.empty() || st.top() != vi)
                st.push(vi), times.push(1);
            else if (st.top() == vi)
                ++times.top();

            if (times.top() == k) st.pop(), times.pop();
        }

        string res = "";
        while (!st.empty()) {
            res.insert(res.begin(), times.top(), st.top());
            st.pop(), times.pop();
        }
        return res;
    }
};
```

å±•å¼€å…¨éƒ¨

8

å±•ç¤º 4 æ¡å›å¤

å›å¤

[MikuâµÂ²Âº](https://leetcode.cn/u/miku52o/)

æ¥è‡ª æœªçŸ¥å½’å±åœ°

2020.06.01

æ‰§è¡Œç”¨æ—¶:2796 ms, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†5.01%çš„ç”¨æˆ·  
å†…å­˜æ¶ˆè€—:14.2 MB, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†11.76%çš„ç”¨æˆ·

```python
class Solution:
    def removeDuplicates(self, s: str, k: int) -> str:
        for i in s:
            s = "".join(s.split(i * k))
        return s
```

è¿˜æœ‰è¿™ç§æ“ä½œã€‚

å±•å¼€å…¨éƒ¨

6

å±•ç¤º 3 æ¡å›å¤

å›å¤

---

è´¡çŒ®è€… ![](https://static.leetcode-cn.com/cn-legacy-assets/images/LeetCode_avatar.png?x-oss-process=image%2Fformat%2Cwebp)

Â© 2025 é¢†æ‰£ç½‘ç»œï¼ˆä¸Šæµ·ï¼‰æœ‰é™å…¬å¸

4äººåœ¨çº¿

å·²å­˜å‚¨

è¡Œ 20ï¼Œåˆ— 23

æ‰§è¡Œå‡ºé”™

AttributeError: 'str' object has no attribute 'append' ^^^^^^^^^^^^^ result.append(f"{char \* count}") Line 31 in removeDuplicates (Solution.py) ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ ret = Solution().removeDuplicates(param\_1, param\_2) Line 68 in \_driver (Solution.py) \_driver() Line 83 in <module> (Solution.py)

æœ€åæ‰§è¡Œçš„è¾“å…¥ æŸ¥çœ‹æµ‹è¯•ç”¨ä¾‹

s =

"abcd"

k =

2

è·Ÿéšç³»ç»Ÿ

æµ…è‰²

æ·±è‰²

ğŸ’¬ ğŸ“‹ ğŸ—‘ï¸

No results found