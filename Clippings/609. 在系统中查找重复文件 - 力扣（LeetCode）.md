---
title: "609. åœ¨ç³»ç»Ÿä¸­æŸ¥æ‰¾é‡å¤æ–‡ä»¶ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"
source: "https://leetcode.cn/problems/find-duplicate-file-in-system/description/"
author:
  - "[[åŠ›æ‰£ LeetCode]]"
published:
created: 2025-10-07
description: "609. åœ¨ç³»ç»Ÿä¸­æŸ¥æ‰¾é‡å¤æ–‡ä»¶ - ç»™ä½ ä¸€ä¸ªç›®å½•ä¿¡æ¯åˆ—è¡¨Â paths ï¼ŒåŒ…æ‹¬ç›®å½•è·¯å¾„ï¼Œä»¥åŠè¯¥ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶åŠå…¶å†…å®¹ï¼Œè¯·ä½ æŒ‰è·¯å¾„è¿”å›æ–‡ä»¶ç³»ç»Ÿä¸­çš„æ‰€æœ‰é‡å¤æ–‡ä»¶ã€‚ç­”æ¡ˆå¯æŒ‰ ä»»æ„é¡ºåº è¿”å›ã€‚ä¸€ç»„é‡å¤çš„æ–‡ä»¶è‡³å°‘åŒ…æ‹¬ ä¸¤ä¸ª å…·æœ‰å®Œå…¨ç›¸åŒå†…å®¹çš„æ–‡ä»¶ã€‚è¾“å…¥ åˆ—è¡¨ä¸­çš„å•ä¸ªç›®å½•ä¿¡æ¯å­—ç¬¦ä¸²çš„æ ¼å¼å¦‚ä¸‹ï¼š * \"root/d1/d2/.../dm f1.txt(f1_content) f2.txt(f2_content) ... fn.txt(fn_content)\"è¿™æ„å‘³ç€ï¼Œåœ¨ç›®å½•Â root/d1/d2/.../dmÂ ä¸‹ï¼Œæœ‰ n ä¸ªæ–‡ä»¶ ( f1.txt,Â f2.txtÂ ...Â fn.txt ) çš„å†…å®¹åˆ†åˆ«æ˜¯ ( f1_content,Â f2_contentÂ ...Â fn_content ) ã€‚æ³¨æ„ï¼šn >= 1 ä¸” m >= 0 ã€‚å¦‚æœ m = 0 ï¼Œåˆ™è¡¨ç¤ºè¯¥ç›®å½•æ˜¯æ ¹ç›®å½•ã€‚è¾“å‡º æ˜¯ç”± é‡å¤æ–‡ä»¶è·¯å¾„ç»„ æ„æˆçš„åˆ—è¡¨ã€‚å…¶ä¸­æ¯ä¸ªç»„ç”±æ‰€æœ‰å…·æœ‰ç›¸åŒå†…å®¹æ–‡ä»¶çš„æ–‡ä»¶è·¯å¾„ç»„æˆã€‚æ–‡ä»¶è·¯å¾„æ˜¯å…·æœ‰ä¸‹åˆ—æ ¼å¼çš„å­—ç¬¦ä¸²ï¼š * \"directory_path/file_name.txt\"Â ç¤ºä¾‹ 1ï¼šè¾“å…¥ï¼špaths = [\"root/a 1.txt(abcd) 2.txt(efgh)\",\"root/c 3.txt(abcd)\",\"root/c/d 4.txt(efgh)\",\"root 4.txt(efgh)\"]è¾“å‡ºï¼š[[\"root/a/2.txt\",\"root/c/d/4.txt\",\"root/4.txt\"],[\"root/a/1.txt\",\"root/c/3.txt\"]]ç¤ºä¾‹ 2ï¼šè¾“å…¥ï¼špaths = [\"root/a 1.txt(abcd) 2.txt(efgh)\",\"root/c 3.txt(abcd)\",\"root/c/d 4.txt(efgh)\"]è¾“å‡ºï¼š[[\"root/a/2.txt\",\"root/c/d/4.txt\"],[\"root/a/1.txt\",\"root/c/3.txt\"]]Â æç¤ºï¼š * 1 <= paths.length <= 2 * 104 * 1 <= paths[i].length <= 3000 * 1 <= sum(paths[i].length) <= 5 * 105 * paths[i] ç”±è‹±æ–‡å­—æ¯ã€æ•°å­—ã€å­—ç¬¦ '/'ã€'.'ã€'('ã€')' å’Œ ' ' ç»„æˆ * ä½ å¯ä»¥å‡è®¾åœ¨åŒä¸€ç›®å½•ä¸­æ²¡æœ‰ä»»ä½•æ–‡ä»¶æˆ–ç›®å½•å…±äº«ç›¸åŒçš„åç§°ã€‚ * ä½ å¯ä»¥å‡è®¾æ¯ä¸ªç»™å®šçš„ç›®å½•ä¿¡æ¯ä»£è¡¨ä¸€ä¸ªå”¯ä¸€çš„ç›®å½•ã€‚ç›®å½•è·¯å¾„å’Œæ–‡ä»¶ä¿¡æ¯ç”¨å•ä¸ªç©ºæ ¼åˆ†éš”ã€‚Â è¿›é˜¶ï¼š * å‡è®¾æ‚¨æœ‰ä¸€ä¸ªçœŸæ­£çš„æ–‡ä»¶ç³»ç»Ÿï¼Œæ‚¨å°†å¦‚ä½•æœç´¢æ–‡ä»¶ï¼Ÿå¹¿åº¦æœç´¢è¿˜æ˜¯å®½åº¦æœç´¢ï¼Ÿ * å¦‚æœæ–‡ä»¶å†…å®¹éå¸¸å¤§ï¼ˆGBçº§åˆ«ï¼‰ï¼Œæ‚¨å°†å¦‚ä½•ä¿®æ”¹æ‚¨çš„è§£å†³æ–¹æ¡ˆï¼Ÿ * å¦‚æœæ¯æ¬¡åªèƒ½è¯»å– 1 kb çš„æ–‡ä»¶ï¼Œæ‚¨å°†å¦‚ä½•ä¿®æ”¹è§£å†³æ–¹æ¡ˆï¼Ÿ * ä¿®æ”¹åçš„è§£å†³æ–¹æ¡ˆçš„æ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘ï¼Ÿå…¶ä¸­æœ€è€—æ—¶çš„éƒ¨åˆ†å’Œæ¶ˆè€—å†…å­˜çš„éƒ¨åˆ†æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•ä¼˜åŒ–ï¼Ÿ * å¦‚ä½•ç¡®ä¿æ‚¨å‘ç°çš„é‡å¤æ–‡ä»¶ä¸æ˜¯è¯¯æŠ¥ï¼Ÿ"
tags:
  - "clippings"
---
![](https://static.leetcode.cn/cn-frontendx-assets/production/_next/static/images/logo-711e116152be014f445f50aa6a369231.png?x-oss-process=image%2Fformat%2Cwebp) åœ¨åŠ›æ‰£ App ä¸­æ‰“å¼€

é¢˜ç›®æè¿°

é¢˜ç›®æè¿°

é¢˜è§£

é¢˜è§£

æäº¤è®°å½•

æäº¤è®°å½•

ä»£ç 

ä»£ç 

æµ‹è¯•ç”¨ä¾‹

æµ‹è¯•ç”¨ä¾‹

æµ‹è¯•ç»“æœ

æµ‹è¯•ç»“æœ

[609\. åœ¨ç³»ç»Ÿä¸­æŸ¥æ‰¾é‡å¤æ–‡ä»¶](https://leetcode.cn/problems/find-duplicate-file-in-system/)

å·²è§£ç­”

ä¸­ç­‰

ç›¸å…³æ ‡ç­¾

ç›¸å…³ä¼ä¸š

ç»™ä½ ä¸€ä¸ªç›®å½•ä¿¡æ¯åˆ—è¡¨ `paths` ï¼ŒåŒ…æ‹¬ç›®å½•è·¯å¾„ï¼Œä»¥åŠè¯¥ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶åŠå…¶å†…å®¹ï¼Œè¯·ä½ æŒ‰è·¯å¾„è¿”å›æ–‡ä»¶ç³»ç»Ÿä¸­çš„æ‰€æœ‰é‡å¤æ–‡ä»¶ã€‚ç­”æ¡ˆå¯æŒ‰ **ä»»æ„é¡ºåº** è¿”å›ã€‚

ä¸€ç»„é‡å¤çš„æ–‡ä»¶è‡³å°‘åŒ…æ‹¬ **ä¸¤ä¸ª** å…·æœ‰å®Œå…¨ç›¸åŒå†…å®¹çš„æ–‡ä»¶ã€‚

**è¾“å…¥** åˆ—è¡¨ä¸­çš„å•ä¸ªç›®å½•ä¿¡æ¯å­—ç¬¦ä¸²çš„æ ¼å¼å¦‚ä¸‹ï¼š

- `"root/d1/d2/.../dm f1.txt(f1_content) f2.txt(f2_content) ... fn.txt(fn_content)"`

è¿™æ„å‘³ç€ï¼Œåœ¨ç›®å½• `root/d1/d2/.../dm` Â ä¸‹ï¼Œæœ‰ `n` ä¸ªæ–‡ä»¶ ( `f1.txt`,Â `f2.txt`...Â `fn.txt` ) çš„å†…å®¹åˆ†åˆ«æ˜¯ ( `f1_content`,Â `f2_content`...Â `fn_content` ) ã€‚æ³¨æ„ï¼š `n >= 1` ä¸” `m >= 0` ã€‚å¦‚æœ `m = 0` ï¼Œåˆ™è¡¨ç¤ºè¯¥ç›®å½•æ˜¯æ ¹ç›®å½•ã€‚

**è¾“å‡º** æ˜¯ç”± **é‡å¤æ–‡ä»¶è·¯å¾„ç»„** æ„æˆçš„åˆ—è¡¨ã€‚å…¶ä¸­æ¯ä¸ªç»„ç”±æ‰€æœ‰å…·æœ‰ç›¸åŒå†…å®¹æ–‡ä»¶çš„æ–‡ä»¶è·¯å¾„ç»„æˆã€‚æ–‡ä»¶è·¯å¾„æ˜¯å…·æœ‰ä¸‹åˆ—æ ¼å¼çš„å­—ç¬¦ä¸²ï¼š

- `"directory_path/file_name.txt"`

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼špaths = ["root/a 1.txt(abcd) 2.txt(efgh)","root/c 3.txt(abcd)","root/c/d 4.txt(efgh)","root 4.txt(efgh)"]
è¾“å‡ºï¼š[["root/a/2.txt","root/c/d/4.txt","root/4.txt"],["root/a/1.txt","root/c/3.txt"]]
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼špaths = ["root/a 1.txt(abcd) 2.txt(efgh)","root/c 3.txt(abcd)","root/c/d 4.txt(efgh)"]
è¾“å‡ºï¼š[["root/a/2.txt","root/c/d/4.txt"],["root/a/1.txt","root/c/3.txt"]]
```

**æç¤ºï¼š**

- `1 <= paths.length <= 2 * 10<sup>4</sup>`
- `1 <= paths[i].length <= 3000`
- `1 <= sum(paths[i].length) <= 5 * 10<sup>5</sup>`
- `paths[i]` ç”±è‹±æ–‡å­—æ¯ã€æ•°å­—ã€å­—ç¬¦ `'/'` ã€ `'.'` ã€ `'('` ã€ `')'` å’Œ `' '` ç»„æˆ
- ä½ å¯ä»¥å‡è®¾åœ¨åŒä¸€ç›®å½•ä¸­æ²¡æœ‰ä»»ä½•æ–‡ä»¶æˆ–ç›®å½•å…±äº«ç›¸åŒçš„åç§°ã€‚
- ä½ å¯ä»¥å‡è®¾æ¯ä¸ªç»™å®šçš„ç›®å½•ä¿¡æ¯ä»£è¡¨ä¸€ä¸ªå”¯ä¸€çš„ç›®å½•ã€‚ç›®å½•è·¯å¾„å’Œæ–‡ä»¶ä¿¡æ¯ç”¨å•ä¸ªç©ºæ ¼åˆ†éš”ã€‚

**è¿›é˜¶ï¼š**

- å‡è®¾æ‚¨æœ‰ä¸€ä¸ªçœŸæ­£çš„æ–‡ä»¶ç³»ç»Ÿï¼Œæ‚¨å°†å¦‚ä½•æœç´¢æ–‡ä»¶ï¼Ÿå¹¿åº¦æœç´¢è¿˜æ˜¯å®½åº¦æœç´¢ï¼Ÿ
- å¦‚æœæ–‡ä»¶å†…å®¹éå¸¸å¤§ï¼ˆGBçº§åˆ«ï¼‰ï¼Œæ‚¨å°†å¦‚ä½•ä¿®æ”¹æ‚¨çš„è§£å†³æ–¹æ¡ˆï¼Ÿ
- å¦‚æœæ¯æ¬¡åªèƒ½è¯»å– 1 kb çš„æ–‡ä»¶ï¼Œæ‚¨å°†å¦‚ä½•ä¿®æ”¹è§£å†³æ–¹æ¡ˆï¼Ÿ
- ä¿®æ”¹åçš„è§£å†³æ–¹æ¡ˆçš„æ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘ï¼Ÿå…¶ä¸­æœ€è€—æ—¶çš„éƒ¨åˆ†å’Œæ¶ˆè€—å†…å­˜çš„éƒ¨åˆ†æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•ä¼˜åŒ–ï¼Ÿ
- å¦‚ä½•ç¡®ä¿æ‚¨å‘ç°çš„é‡å¤æ–‡ä»¶ä¸æ˜¯è¯¯æŠ¥ï¼Ÿ

---

é¢è¯•ä¸­é‡åˆ°è¿‡è¿™é“é¢˜?

1/5

æ˜¯

å¦

é€šè¿‡æ¬¡æ•°

13,754 /24.8K

é€šè¿‡ç‡

55.4 %

---

ç›¸å…³æ ‡ç­¾

---

ç›¸å…³ä¼ä¸š

---

ç›¸ä¼¼é¢˜ç›®

[åˆ é™¤ç³»ç»Ÿä¸­çš„é‡å¤æ–‡ä»¶å¤¹](https://leetcode.cn/problems/delete-duplicate-folders-in-system/)

å›°éš¾

---

è¯„è®º (134)

ğŸ’¡ è®¨è®ºåŒºè§„åˆ™

1\. è¯·ä¸è¦åœ¨è¯„è®ºåŒºå‘è¡¨é¢˜è§£ï¼

2\. è¯„è®ºåŒºå¯ä»¥å‘è¡¨å…³äºå¯¹ç¿»è¯‘çš„å»ºè®®ã€å¯¹é¢˜ç›®çš„ç–‘é—®åŠå…¶å»¶ä¼¸è®¨è®ºã€‚

3\. å¦‚æœä½ éœ€è¦æ•´ç†é¢˜è§£æ€è·¯ï¼Œè·å¾—åé¦ˆä»è€Œè¿›é˜¶æå‡ï¼Œå¯ä»¥å»é¢˜è§£åŒºè¿›è¡Œã€‚

pythonå“ˆå¸Œè¡¨è§£æ³•ï¼Œå¾ˆç®€å•

```python
class Solution:
    def findDuplicate(self, paths: List[str]) -> List[List[str]]:
        mp = defaultdict(list) # ä½¿ç”¨defaultdictä½œä¸ºå“ˆå¸Œè¡¨

        for path in paths:
            elems = path.split(" ")
            for i, x in enumerate(elems):
                if i == 0:
                    vault = elems[i] # ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯æ ¹ç›®å½•åœ°å€
                else:
                    # å½¢å¦‚1.txt(abcd)è¿™æ ·çš„æ–‡ä»¶éœ€è¦é€šè¿‡"("å°†æ–‡ä»¶åå’Œå†…å®¹åˆ†å‰²å¼€æ¥
                    x = x.rstrip(")") # å»é™¤å³è¾¹çš„åœ†æ‹¬å·
                    file_name, content = x.split("(")
                    mp[content].append(f"{vault}/{file_name}") # ä½¿ç”¨f-string
        
        ans = list(mp.values())
        return [elem for elem in ans if len(elem) > 1]
```

0

å›å¤

[é©¬è·¯æ²¹](https://leetcode.cn/u/ma-lu-you/)

æ¥è‡ª æœªçŸ¥å½’å±åœ° (ç¼–è¾‘è¿‡)

2020.01.10

æ‰‹æ’¸Cå“ˆå¸Œé“¾è¡¨ï¼Œæ’¸çš„æ‰‹æ–­äº†

```cpp
#define MAXSIZE 20000
struct HashData {
    int key;
    char filePathName[2000];
    char fileInfo[1000];
    struct HashData* next;
};

typedef struct {
    int hashWid;
    struct HashData** data;
}HashTbl;

void HashInit(HashTbl *h, int wid)
{
    struct HashData** tmp = (struct HashData**)malloc(sizeof(struct HashData*) * wid);
    memset(tmp, 0, sizeof(struct HashData*) * wid);
    h->hashWid = wid;
    h->data = tmp;
}

int HashFun(char *s, int wid)
{
    int seed = 131313131;
    long long hashNum = 0;
    int len = strlen(s);
    for (int i = 0; i < len; i++) {
        hashNum = hashNum * seed + s[i];
        hashNum = hashNum % wid;
    }

    return (int)hashNum & 0x7ffffffff;
}

void HashInsert(HashTbl *h, char *pathname, char *info)
{
    int key = HashFun(info, h->hashWid);
    struct HashData* tmp = (struct HashData*)malloc(sizeof(struct HashData));
    tmp->key = key;
    info[strlen(info) - 1] = '\0';
    memcpy(tmp->filePathName, pathname, (strlen(pathname) + 1));
    memcpy(tmp->fileInfo, info, (strlen(info) + 1));

    if (h->data[key] == NULL) {
        h->data[key] = tmp;
        tmp->next = NULL;
    } else {
        struct HashData* p = h->data[key];
        if (strcmp(p->fileInfo, info) == 0) {
            h->data[key] = tmp;
            tmp->next = p;
        } else {
            while (h->data[key] != NULL) {
                if (strcmp(h->data[key]->fileInfo, info) == 0) {
                    break;
                }
                key++;
                if (key >= h->hashWid) {
                    key = key % h->hashWid;
                }
            }
            p = h->data[key];
            h->data[key] = tmp;
            tmp->next = p;
        }
    }
}

void SplitStr(char *s, char str[1000][1000], int *len)
{
    int strNum = *len;
    while (*s != '\0') {
        int num = 0;
        while (*s != ' ' && *s != '\0') {
            str[strNum][num] = *s;
            num++;
            s++;
        }

        if (strNum == *len) {
            str[strNum][num] = '/';
            num++;
        }
        str[strNum][num] = '\0';
        num++;
        strNum++;
        if (*s == '\0') {
            break;
        }
        s++;
    }
    *len = strNum;
}

void findNameInfo(char *s, char *name, char *info)
{
    int num = 0;
    while (*s != '(') {
        name[num] = *s;
        num++;
        s++;
    }

    name[num] = '\0';
    num = 0;
    while (*s != '\0') {
        info[num] = *s;
        num++;
        s++;
    }
    info[num] = '\0';
}

void GetPathName(char *path, char *name, char *pathname)
{
    int num = 0;
    while (*path != '\0') {
        pathname[num] = *path;
        num++;
        path++;
    }

    while (*name != '\0') {
        pathname[num] = *name;
        num++;
        name++;
    }
    pathname[num] = '\0';
}

char *** findDuplicate(char ** paths, int pathsSize, int* returnSize, int** returnColumnSizes)
{
    if (pathsSize == 0 || paths == NULL) {
        *returnSize = 0;
        *returnColumnSizes = NULL;
        return NULL;
    }

    HashTbl h;
    HashInit(&h, MAXSIZE);

    for (int i = 0; i < pathsSize; i++) {
        char *p = paths[i];
        int n = 0;
        char strArr[1000][1000] = { {'\0'} };
        SplitStr(p, strArr, &n);
        for (int j = 1; j < n; j++) {
            char name[1000] = { '\0' };
            char info[1000] = { '\0' };
            char pathname[2000] = { '\0' };
            findNameInfo(strArr[j], &(name[0]), &(info[0]));
            GetPathName(strArr[0], &(name[0]), &(pathname[0]));
            HashInsert(&h, pathname, &(info[1]));
        }
    }

    char ***ret = (char ***)malloc(sizeof(char**) * MAXSIZE);
    int retNum = 0;
    int *retCol = (int *)malloc(sizeof(int) * MAXSIZE);

    for (int i = 0; i < h.hashWid; i++) {
        struct HashData* p = h.data[i];
        if (p == NULL || p->next == NULL) {
            continue;
        }

        char **ret1 = (char **)malloc(sizeof(char*) * MAXSIZE);
        int ret1Num = 0;
        memset(ret1, 0, sizeof(char*) * MAXSIZE);

        while (p != NULL) {
            char *ret2 = (char *)malloc(sizeof(char) * 1000);
            memset(ret2, 0, sizeof(char) * 1000);
            memcpy(ret2, p->filePathName, (strlen(p->filePathName) + 1));
            ret1[ret1Num] = ret2;
            ret1Num++;
            p = p->next;
        }
        retCol[retNum] = ret1Num;
        ret[retNum] = ret1;
        retNum++;
    }

    if (retNum == 0) {
        *returnSize = 0;
        *returnColumnSizes = NULL;
        return NULL;
    }

    *returnSize = retNum;
    *returnColumnSizes = retCol;
    return ret;
}
```

38

éšè—å›å¤

å›å¤

[DPä¸ä¼šå°±æ˜¯çœŸçš„ä¸ä¼š](https://leetcode.cn/u/dpfkmybrain/)

æ¥è‡ª æœªçŸ¥å½’å±åœ°

2020.05.18

å»ºè®®å„ä½cå‹‡å£«ä»¬æ‰“ä¸è¿‡å°±åŠ å…¥pyå§ï¼

```python
def findDuplicate(self, paths: List[str]) -> List[List[str]]:
        d={}
        for i in paths:
            arr= i.split( );
            for j in range(1,len(arr)):
                t= arr[j].split('(')
                d.setdefault(t[1],[])
                d[t[1]].append(arr[0]+'/'+t[0])
        return [i for i in d.values() if len(i)>1]
```

å±•å¼€å…¨éƒ¨

17

å±•ç¤º 1 æ¡å›å¤

å›å¤

[AroundZW](https://leetcode.cn/u/aroundzw-2/)

æ¥è‡ª æœªçŸ¥å½’å±åœ°

2019.12.26

Java 33ms çº¯åŸºç¡€

```dart
public List<List<String>> findDuplicate(String[] paths) {
        List<List<String>> list = new ArrayList<List<String>>();
        Map<String, Integer> map = new HashMap<String, Integer>();
        int index = 0;
        for (String str : paths) {
            String[] strs = str.split(" ");
            for (int i = 1; i < strs.length; i++) {
                String key = strs[i].substring(strs[i].indexOf("(") + 1, strs[i].indexOf(")"));
                if (!map.containsKey(key)) {
                    map.put(key, index++);
                    list.add(new ArrayList<String>());
                }
                list.get(map.get(key)).add(strs[0] + "/" + strs[i].substring(0, strs[i].indexOf("(")));
            }
        }
        for (int i = list.size() - 1; i >= 0; i--) {
            if (list.get(i).size() < 2) 
                list.remove(i);
        }
        return list;
    }
```

5

å›å¤

[ä»£ç æ¬è¿å·¥](https://leetcode.cn/u/dai-ma-ban-yun-gong-4/)

æ¥è‡ª æµ™æ±Ÿ

2023.05.12

JAVAæš´åŠ›è§£

```cpp
import java.util.Map.Entry;
class Solution {
 public List<List<String>> findDuplicate(String[] paths) {
         HashMap<String, List<String>> map=new HashMap<>();
         for(String cur:paths) {
             String[] words=cur.split(" ");
             for(int i=1;i<words.length;i++) {
                 String ans=words[i].split("\\(")[1].replace(")", "");
                 if(!map.containsKey(ans)) {
                     map.put(ans, new ArrayList<>());
                 }
                 map.get(ans).add(words[0]+"/"+words[i].split("\\(")[0]);
             }
         }
         List<List<String>> list=new ArrayList<>();
         for(Entry<String, List<String>> entry:map.entrySet()) {
             if(entry.getValue().size()>=2) {
                 list.add(entry.getValue());
             }
         }
         return list;

        }
}
```

å±•å¼€å…¨éƒ¨

1

å›å¤

[@æ—å¸æ¡](https://leetcode.cn/u/sitonglin)  
è¡¥ä¸Šä»£ç 

```python
class Solution:
    def findDuplicate(self, paths: List[str]) -> List[List[str]]:
        dic = {}
        for path in paths:
            sep = path.split()
            curPath = sep[0]
            for i in range(1, len(sep)):
                curFile = sep[i].split('(')
                content = curFile[-1][:-1]
                rearrangeFileName = curPath + '/' + curFile[0]
                if content not in dic.keys():
                    dic[content] = rearrangeFileName + ' '
                else:

                    dic[content] += rearrangeFileName + ' '
        res = []
        for item in dic.values():
            temp = item.split()
            if len(temp) > 1: res.append(temp)
        return res
```

0

å›å¤

éšè—

[æˆ‘è¦æ‹¿OFFER](https://leetcode.cn/u/shu-guang-1/)

æ¥è‡ª ä¸­å›½

2021.05.19

C++ istringstream

```cpp
class Solution {
public:
    vector<vector<string>> findDuplicate(vector<string>& paths) {
        vector<vector<string>> ans;
        unordered_map<string, vector<string>> um;   //æ–‡ä»¶å†…å®¹->æ–‡ä»¶è·¯å¾„
        for (const string& path: paths) {
            istringstream iss(path);
            string dir, tmp;
            iss >> dir;
            while (iss >> tmp) {
                string key, val;
                getKeyAndVal(key, val, tmp, dir);
                um[key].push_back(val);
            }
        }
        for (const auto& p: um) {
            if (p.second.size() > 1) {
                ans.push_back(p.second);
            }
        }
        return ans;
    }

private:
    void getKeyAndVal(string& key, string& val, const string& tmp, const string& dir) {
        int i = 0;
        while (tmp[i] != '(') ++i;
        val = dir + "/" + tmp.substr(0, i);
        int j = i + 1;
        while (tmp[j] != ')') ++j;
        key = tmp.substr(i + 1, j - i - 1);
    }
};
```

å±•å¼€å…¨éƒ¨

2

å›å¤

[lmy0314](https://leetcode.cn/u/lmy0314/)

æ¥è‡ª æœªçŸ¥å½’å±åœ°

2020.04.15

æƒ³ç”¨C++å†™ï¼Œå‘ç°è¿ä¸ªsplitéƒ½æ²¡æœ‰ï¼Œå“­äº†â€¦â€¦

2

å±•ç¤º 3 æ¡å›å¤

å›å¤

---

è´¡çŒ®è€… ![](https://static.leetcode-cn.com/cn-legacy-assets/images/LeetCode_avatar.png?x-oss-process=image%2Fformat%2Cwebp)

Â© 2025 é¢†æ‰£ç½‘ç»œï¼ˆä¸Šæµ·ï¼‰æœ‰é™å…¬å¸

1äººåœ¨çº¿

å·²å­˜å‚¨

è¡Œ 10ï¼Œåˆ— 22

é€šè¿‡

æ‰§è¡Œç”¨æ—¶: 0 ms

Case 1

Case 2

Case 3

è¾“å…¥

paths =

\["root/a 1.txt(abcd) 2.txt(efgh)","root/c 3.txt(abcd)","root/c/d 4.txt(efgh)","root 4.txt(efgh)"\]

è¾“å‡º

\[\["root/a/1.txt","root/c/3.txt"\],\["root/a/2.txt","root/c/d/4.txt","root/4.txt"\]\]

é¢„æœŸç»“æœ

\[\["root/a/2.txt","root/c/d/4.txt","root/4.txt"\],\["root/a/1.txt","root/c/3.txt"\]\]

è´¡çŒ®æµ‹è¯•ç”¨ä¾‹

è¾“å…¥

---

\["root/a 1.txt(abcd) 2.txt(efgh)","root/c 3.txt(abcd)","root/c/d 4.txt(efgh)","root 4.txt(efgh)"\]

\["root/a 1.txt(abcd) 2.txt(efgh)","root/c 3.txt(abcd)","root/c/d 4.txt(efgh)"\]

\["root/a 1.txt(abcd) 2.txt(efsfgh)","root/c 3.txt(abdfcd)","root/c/d 4.txt(efggdfh)"\]

è¾“å‡º

---

\[\["root/a/1.txt","root/c/3.txt"\],\["root/a/2.txt","root/c/d/4.txt","root/4.txt"\]\]

\[\["root/a/1.txt","root/c/3.txt"\],\["root/a/2.txt","root/c/d/4.txt"\]\]

\[\]

é¢„æœŸç»“æœ

---

\[\["root/a/2.txt","root/c/d/4.txt","root/4.txt"\],\["root/a/1.txt","root/c/3.txt"\]\]

\[\["root/a/2.txt","root/c/d/4.txt"\],\["root/a/1.txt","root/c/3.txt"\]\]

\[\]

è·Ÿéšç³»ç»Ÿ

æµ…è‰²

æ·±è‰²

ğŸ’¬ ğŸ“‹ ğŸ—‘ï¸