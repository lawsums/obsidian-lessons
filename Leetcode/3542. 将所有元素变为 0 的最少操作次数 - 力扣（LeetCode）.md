---
title: 3542. 将所有元素变为 0 的最少操作次数 - 力扣（LeetCode）
alise: 3542. 将所有元素变为 0 的最少操作次数 - 力扣（LeetCode）
source: https://leetcode.cn/problems/minimum-operations-to-convert-all-elements-to-zero/?envType=daily-question&envId=2025-11-10
created: 2025-11-10
author:
  - "[[力扣 LeetCode]]"
tags:
  - Stack
  - Greedy
  - Array
  - Hash Table
  - Monotonic Stack
---

[3542\. 将所有元素变为 0 的最少操作次数](https://leetcode.cn/problems/minimum-operations-to-convert-all-elements-to-zero/)

已解答

1890

相关标签

相关企业

提示

给你一个大小为 `n` 的 **非负** 整数数组 `nums` 。你的任务是对该数组执行若干次（可能为 0 次）操作，使得 **所有** 元素都变为 0。

在一次操作中，你可以选择一个子数组 `[i, j]` （其中 `0 <= i <= j < n` ），将该子数组中所有 **最小的非负整数** 的设为 0。

返回使整个数组变为 0 所需的 **最少** 操作次数。

一个 **子数组** 是数组中的一段连续元素。

**示例 1：**

**输入:**nums = \[0,2\]

**输出:**1

**解释:**

- 选择子数组 `[1,1]` （即 `[2]` ），其中最小的非负整数是 2。将所有 2 设为 0，结果为 `[0,0]` 。
- 因此，所需的最少操作次数为 1。

**示例 2：**

**输入:**nums = \[3,1,2,1\]

**输出:**3

**解释:**

- 选择子数组 `[1,3]` （即 `[1,2,1]` ），最小非负整数是 1。将所有 1 设为 0，结果为 `[3,0,2,0]` 。
- 选择子数组 `[2,2]` （即 `[2]` ），将 2 设为 0，结果为 `[3,0,0,0]` 。
- 选择子数组 `[0,0]` （即 `[3]` ），将 3 设为 0，结果为 `[0,0,0,0]` 。
- 因此，最少操作次数为 3。

**示例 3：**

**输入:**nums = \[1,2,1,2,1,2\]

**输出:**4

**解释:**

- 选择子数组 `[0,5]` （即 `[1,2,1,2,1,2]` ），最小非负整数是 1。将所有 1 设为 0，结果为 `[0,2,0,2,0,2]` 。
- 选择子数组 `[1,1]` （即 `[2]` ），将 2 设为 0，结果为 `[0,0,0,2,0,2]` 。
- 选择子数组 `[3,3]` （即 `[2]` ），将 2 设为 0，结果为 `[0,0,0,0,0,2]` 。
- 选择子数组 `[5,5]` （即 `[2]` ），将 2 设为 0，结果为 `[0,0,0,0,0,0]` 。
- 因此，最少操作次数为 4。

**提示:**

- `1 <= n == nums.length <= 10<sup>5</sup>`
- `0 <= nums[i] <= 10<sup>5</sup>`

---

面试中遇到过这道题?

1/5

是

否

通过次数

6,157 /11.4K

通过率

53.9 %

---

---

相关企业

---

提示1

Process the values in nums from smallest to largest (excluding 0).

---

提示2

For each target value v, identify its maximal contiguous segments (subarrays where nums\[i\] == v); each segment can be zeroed out in one operation.

---

提示3

After setting those segments to zero, dynamically update the remaining array and repeat with the next value.

---

## 思路

[3542. 将所有元素变为 0 的最少操作次数 - 力扣（LeetCode）](https://leetcode.cn/problems/minimum-operations-to-convert-all-elements-to-zero/solutions/3673804/cong-fen-zhi-dao-dan-diao-zhan-jian-ji-x-mzbl/?envType=daily-question&envId=2025-11-10)
## 解法
```` tab
tab: C++解法一
```cpp

```


tab: C++解法二
```cpp

```

tab: python解法一
```python

```

tab: vault
```include cpp
@/file_path
```

```` 

## 思考题


